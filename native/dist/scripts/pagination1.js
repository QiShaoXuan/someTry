"use strict";var _createClass=function(){function a(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(n,e,t){return e&&a(n.prototype,e),t&&a(n,t),n}}();function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var pagination=function(){function s(n,e,t,a){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;if(_classCallCheck(this,s),this.sum=Number(e),this.now=Number(t),this.show=Number(a),this.container=$(n),this.callback=i,this.container.empty(),NaN===this.sum||NaN===this.now||NaN===this.show)return console.error("param need to be a number");if(0!==this.sum){if(1===this.show)return console.error("pagination needs show at lease 2 pages");if(!this.container.length)return console.error("pagination need a container");if(1===this.sum)return console.warn("just one page , does not need pagination");this.setBullets(),this.setEvent(this)}}return _createClass(s,[{key:"setBullets",value:function(){var n=this.setBulletsArr(this.sum,this.now,this.show),e=this.setBulletsDom(n);this.container.html(e)}},{key:"setBulletsDom",value:function(n){var t="",a=this;return t+='<li class="pagination-item pagination-pre"><img src="/public/static/home/pc/images/detail/pagination_pre.svg" alt=""></li>',n.forEach(function(n){var e=Number(n);t+='<li class="pagination-item '+(NaN===e?"":"page-num")+" "+(n===a.now?"active":"")+'" '+(NaN===e?"":'data-page="'+n+'"')+">"+n+"</li>"}),'<ul class="pagination">'+(t+=' <li class="pagination-item pagination-next"><img src="/public/static/home/pc/images/detail/pagination_next.svg" alt=""></li>')+"</ul>"}},{key:"setBulletsArr",value:function(n,e,t){var a=[];if(n<=t+1)for(var i=1;i<=n;i++)a.push(i);else if(e<t){for(i=1;i<=t;i++)a.push(i);a.push("..."),a.push(n)}else if(n<e+t){a.push(1),a.push("...");for(i=n-t;i<=n;i++)a.push(i)}else{var s=t%2==1?(t-1)/2:t/2;a.push(1),a.push("...");for(i=e-s;i<=e+s;i++)a.push(i);a.push("..."),a.push(n)}return a}},{key:"setEvent",value:function(e){this.container.unbind("click"),this.container.on("click",".page-num",function(){var n=$(this).data("page");n!=e.now&&(e.now=n,e.setBullets(),e.callback&&e.callback(e.sum,e.now,e.show))}),this.container.on("click",".pagination-pre",function(){1!=e.now&&(e.now=e.now-1,e.setBullets(),e.callback&&e.callback(e.sum,e.now,e.show))}),this.container.on("click",".pagination-next",function(){console.log(e.now,e.sum),e.now!=e.sum&&(e.now=e.now+1,e.setBullets(),e.callback&&e.callback(e.sum,e.now,e.show))})}}]),s}(),page=new pagination({containerName:"",current:1,pageSize:10,total:0,onChange:null,preText:"",nextText:"",hideOnSinglePage:!1});